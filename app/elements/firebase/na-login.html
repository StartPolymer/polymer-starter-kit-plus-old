<link rel="import" href="../../bower_components/polymer/polymer.html">

<script src="https://www.gstatic.com/firebasejs/ui/live/0.4/firebase-ui-auth.js"></script>
<link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/live/0.4/firebase-ui-auth.css" />
<dom-module id="na-login">
  <template>
    <style include="shared-styles">
      @import "theme.css";
      :host {
        display: block;
        text-align: center;
        color: #fff
      }
    </style>
    <h2>Login</h2>
    <div id="firebaseui-auth-container"></div>
  </template>
  <script>

    Polymer({
      is: 'na-login',
      ready: function() {
        var uiConfig = {
          'signInSuccessUrl': '/',
          'signInOptions': [
            // Leave the lines as is for the providers you want to offer your users.
            firebase.auth.GoogleAuthProvider.PROVIDER_ID,
            firebase.auth.EmailAuthProvider.PROVIDER_ID
          ],
          // Terms of service url.
          'tosUrl': '<your-tos-url>',
        };

        // Initialize the FirebaseUI Widget using Firebase.
        var ui = new firebaseui.auth.AuthUI(firebase.auth());
        // The start method will wait until the DOM is loaded.
        ui.start('#firebaseui-auth-container', uiConfig);
      },
      signout: function() {
        console.debug("call signout");
        firebase.auth().signOut().then(function() {
          // Sign-out successful.
          console.debug("successfully logout");
        }, function(error) {
          // An error happened.
          console.debug(error);
        });
      }
    });
  </script>
</dom-module>
